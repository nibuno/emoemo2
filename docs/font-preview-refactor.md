# フォント一覧プレビュー機能の実装

実装日: 2025-12-22

## 背景

### 課題
- フォントは6種類から1つを選択する方式だった
- プレビューは選択したフォント1つのみ表示
- ユーザーはフォントを切り替えながら確認する必要がある
  - 手間が掛かるのでは？と思ったのが発端

### 目標
- 複数フォントを一覧で比較できるようにする
- 操作の手間を減らす

## Before / After

### Before
```
┌──────────┬─────────────────────┬────────────────────┐
│ Settings │     TextInput       │      Preview       │
│ (w-80)   │    (flex-1)         │      (w-96)        │
│          │                     │                    │
│ フォント  │  テキスト入力        │  Canvas 1つ        │
│ 6ボタン   │                     │  + ダウンロード    │
│          │                     │                    │
│ 文字色    │                     │                    │
│ 7ボタン   │                     │                    │
└──────────┴─────────────────────┴────────────────────┘
```

### After
```
┌────────────┬──────────────────────────────────────┐
│  Settings  │            PreviewGrid               │
│  (w-72)    │            (flex-1)                  │
│            │                                      │
│ テキスト    │     ┌──────────────────┐             │
│ [入力欄]   │     │  メインプレビュー  │             │
│            │     │  (選択中フォント)  │             │
│ 文字色     │     │  + ダウンロード   │             │
│ ○○○○      │     └──────────────────┘             │
│ ○○○       │                                      │
│            │  [サム1][サム2][サム3][サム4][サム5][サム6] │
└────────────┴──────────────────────────────────────┘
```

## 意思決定の経緯

### 1. フォント一覧表示の方式

**課題**: 6つのプレビューを全て並べると「何を見ればいいか」がわかりにくい

**検討した案**:
| 案 | 説明 |
|---|------|
| A. メイン+サムネイル | 1つを大きく表示、残りは小さく下に並べる |
| C. カルーセル | 1つずつ表示、左右矢印で切り替え |

**決定**: 方式A（メイン+サムネイル）

**理由**: 比較のしやすさ。「3つ目と5つ目を比べたい」時にワンクリックで切り替え可能。カルーセルだと1つずつ見ていく必要があり、比較が手間。

### 2. テキスト入力欄の配置

**課題**: 3カラム構成で中央のテキスト入力カラムが縦長で余白が多い

**決定**: SettingsPanelに統合して2カラム構成に

**効果**: UIがシンプルに。入力と設定が1箇所にまとまり操作しやすい

### 3. 文字色ボタンのレイアウト

**課題**: 7つ横並びだと窮屈

**決定**: 4列グリッド（4+3の2行）に変更

**効果**: ゆとりのあるレイアウトに

### 4. サイドバーの余白

**決定**: `px-12`（左右48px）、サイドバー幅 `w-72`（288px）

**効果**: プレビューエリアとのバランスが良くなった

## 変更されたファイル

| ファイル | 変更内容 |
|---------|---------|
| `src/App.tsx` | 3カラム→2カラム、TextInput削除、サイドバー幅調整 |
| `src/components/SettingsPanel.tsx` | フォント選択UI削除、テキスト入力追加、余白・グリッド調整 |
| `src/components/Preview.tsx` | `fontFamily`/`fontLabel`をprops化、コンパクトなレイアウトに |
| `src/components/PreviewGrid.tsx` | 新規作成→メイン+サムネイル方式に改修 |
| `src/components/PreviewThumbnail.tsx` | 新規作成（サムネイル用コンポーネント） |

## 不要になったファイル

- `src/components/TextInput.tsx` - SettingsPanelに統合されたため（削除可能）
